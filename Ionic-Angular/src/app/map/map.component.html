<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-title>{{ activityTitle }}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" scroll-y="true">
<div class="row row-map">
  <div *ngIf="gpxUrl">
     <app-map-view 
     [gpxUrl]= "gpxUrl" 
     [mapId]="'map'" 
     [activityFileName]="activityFileName" 
     [activityTitle]="activityTitle" 
     [activityThumbnail]="activityThumbnail" 
     (distanceChange)="onDistanceChange($event)" 
     (durationChange)="onDurationChange($event)" 
     (speedChange)="onSpeedChange($event)"></app-map-view>
  </div>
  <div class="ion-padding">
    <ion-grid>
      <ion-row>
        <ion-col size="8" size-md="4" size-lg="3" class="info-box">
          <ion-card>
            <ion-card-header>
              <ion-card-title>Route Name</ion-card-title>
            </ion-card-header>
            <ion-card-content>
              {{ activityTitle }}
            </ion-card-content>
          </ion-card>
        </ion-col>
        <ion-col size="8" size-md="4" size-lg="2" class="info-box">
          <ion-card>
            <ion-card-header>
              <ion-card-title>Date</ion-card-title>
            </ion-card-header>
            <ion-card-content>
              {{ activityDate | date:"yyyy-MM-dd" }}
            </ion-card-content>
          </ion-card>
        </ion-col>
        <ion-col size="8" size-md="4" size-lg="2" class="info-box">
          <ion-card>
            <ion-card-header>
              <ion-card-title>Total Distance</ion-card-title>
            </ion-card-header>
            <ion-card-content>
              {{ distance }} miles
            </ion-card-content>
          </ion-card>
        </ion-col>
        <ion-col size="8" size-md="4" size-lg="2" class="info-box">
          <ion-card>
            <ion-card-header>
              <ion-card-title>Duration</ion-card-title>
            </ion-card-header>
            <ion-card-content>
              {{ duration }}
            </ion-card-content>
          </ion-card>
        </ion-col>
        <ion-col size="8" size-md="4" size-lg="2" class="info-box">
          <ion-card>
            <ion-card-header>
              <ion-card-title>Speed</ion-card-title>
            </ion-card-header>
            <ion-card-content>
              {{ speed }} km/h
            </ion-card-content>
          </ion-card>
        </ion-col>
      </ion-row>
    </ion-grid>
  </div>
  <ion-button (click)="downloadGPX()">Download GPX</ion-button>
  <ion-button (click)="deleteRecording()">Delete GPX</ion-button>

  <ion-toast
  [isOpen]="isToastOpen"
  message="{{toastMessage}}"
  [duration]="4000"
  (didDismiss)="setOpen(false)"
></ion-toast>


</div>
</ion-content>

